Implementing a linux web server
0. change server name: sudo hostnamectl set-hostname web01: set true to preserve_hostname in
/etc/cloud/cloud.cfg
1. install nginx, create redirect route etc using puppet
2. configure nginx config file
3. Edit default security group: allow ssh from all,
allow HTTP/ipv4 and ipv6
4. confirm privileges for nginx and static files: should be same
5. install mysql
6. Install slqalchemy
7. install mysqclient: sudo apt-get install python3-dev default-libmysqlclient-dev build-essential
then pip install mysqlclient
8. install puppet then: sudo puppet module install puppetlabs-stdlib
idea: app to locate distances and compare multiple distances; source: kenya, dest: sydney, lisbon etc
export MYSQLCLIENT_CFLAGS=$(mysql_config --cflags)
export MYSQLCLIENT_LDFLAGS=$(mysql_config --libs)
install let'sencrypt: a hell
Invalid response from http://my_site/.well-known/acme-challenge/bsGGWdbzuXthiMJI8ZPEem-MwnQyLpvr5sDU09R3k_Q: 404
nginx access:

DB_USER=chat_user DB_DB=chatdb DB_PWD=chat DB_HOST=localhost STORAGE_TYPE=db SECRET_KEY=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 FLASK_APP=web_dynamic/app.py flask run --port=5005

DB_USER=chat_user DB_DB=chatdb DB_PWD=chat DB_HOST=localhost STORAGE_TYPE=db REDIS_HOST=localhost REDIS_PORT=6379 REDIS_DB=0 FLASK_APP=api/v1/app.py flask run --port=5004
above reduced to: STORAGE_TYPE=db FLASK_APP=web_dynamic/app.py flask run --port=5005
set up config file system:
for flask app contects: use app.config.from_envvar('APPCONFIG') # from location of cfg file
for non flask apps: use dotenv: in root of app, create .env and call load_dotenv()
WEBDYNAMIC_SETTINGS='/home/ubuntu/configs/web_dynamic_config.cfg'
CHATAPI_SETTINGS='/home/ubuntu/configs/api_config.cfg'
francisk.consult@gmail.com
Murimi@93

lb01: 18.227.228.159
wb01: 16.16.162.146
wb02: 13.55.134.169
replica_user replica_pwd

mysql ip issue in cfg???

check is port is open and can liste:
1.ls | nc -l -p <port>
netstat -na | grep
2. on another terminal do: telnet localhost <port>

flask_app
nzkd vxex dryw qzyo
to do:
shorten user names in home page
ring tone for calendar events

